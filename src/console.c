#include "console.h"

// WELCOMPAGE
void welcompage()
{
  printf("\t\tCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCCC\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"7CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q00000000000000000000000000000000000000000000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q00000000000000000000000000000000000000000000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q00000000000000000000000000000000000000000000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q00000000000000000000000000000000000000000000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q00000000000000000000000000000000000000000000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q00000000000000000000000000000000000000000000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q00000000000CF00000000000000000000000@7W00000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q000000000&   '0000000000000000000005   70000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q0000000008    000000000000000000000,   ,0000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q0000000000g__p000000000000000000000D,_,Q0000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q00000000000000000000000000000000000000000000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q00000000000000000000000000000M00000000000000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q00000000000000000F~000ppCpp00006000000000000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q00000000000000000-/\\/~~~~~~~~\\//[00000000000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q00000000000000000c//////////////B00000000000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q00000000000000000Dj/<LLLLLLLL/,p000000000000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q00000000000000000000pgjjjjjjpQ00000000000000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q00000000000000000000000000000000000000000000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q00000000000000000000000000000000000000000000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q00000000000000000000000000000000000000000000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q00000000000000000000000000000000000000000000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q00000000000000000000000000000000000000000000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCC5Q00000000000000000000000000000000000000000000000000-CCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCCL\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"CCCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCCC77777777777777777777777777777777777777777CCCCCCCC\"7CCCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCCC-                                        LCCCCCC/C/CCCCCCCCCCCCCC\n");
  printf("\t\tCCCCCCCCCCCCCCLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLCCCCCCCCyCCCCCCCCCCCCCCC\n\n");

  printf("oooooo   oooooo     oooo           oooo                                                      ooooooooooooo           \n");
  printf("`888.    `888.     .8'             888                                                       8'   888   `8           \n");
  printf(" `888.   .8888.   .8'    .ooooo.   888   .ooooo.   .ooooo.  ooo. .oo.  .oo.    .ooooo.            888       .ooooo.  \n");
  printf("  `888  .8'`888. .8'    d88' `88b  888  d88' `\"Y8 d88' `88b `888P\"Y88bP\"Y88b  d88' `88b           888      d88' `88b \n");
  printf("   `888.8'  `888.8'     888ooo888  888  888       888   888  888   888   888  888ooo888           888      888   888 \n");
  printf("    `888'    `888'      888    .o  888  888   .o8 888   888  888   888   888  888    .o           888      888   888 \n");
  printf("     `8'      `8'       `Y8bod8P' o888o `Y8bod8P' `Y8bod8P' o888o o888o o888o `Y8bod8P'          o888o     `Y8bod8P'\n\n\n");
  printf("                             oooooooooo.  ooooo      ooo ooo        ooooo   .oooooo.                                 \n");
  printf("                             `888'   `Y8b `888b.     `8' `88.       .888'  d8P'  `Y8b                                \n");
  printf("                              888     888  8 `88b.    8   888b     d'888  888      888                               \n");
  printf("                              888oooo888'  8   `88b.  8   8 Y88. .P  888  888      888                               \n");
  printf("                              888    `88b  8     `88b.8   8  `888'   888  888      888                               \n");
  printf("                              888    .88P  8       `888   8    Y     888  `88b    d88'                               \n");
  printf("                             o888bood8P'  o8o        `8  o8o        o888o  `Y8bood8P'                                \n\n");
}

// START
void start(ArrayDin *arr)
/* I.S. : Sembarang
   F.S. : Menampilkan pesan selamat datang dan menampilkan command yang tersedia
   Proses : Menampilkan pesan selamat datang dan menampilkan command yang tersedia */
{
  char path[100] = "../data/config.txt";

  STARTFILE(path);
  CopyWordFile();
  char *strnum = wordToString(currentWord);
  int num = strToInt(strnum);
  if (num > 0)
  {
    ADVFILE();
    for (int i = 0; i < num; i++)
    {
      ADVWORDFILE();
      char *name = wordToString(currentWord);
      InsertLast(arr, name);
    }
    printf("File konfigurasi sistem berhasil dibaca. BNMO berhasil dijalankan.\n");
  }
}

// LOAD
void load(ArrayDin *arr, Stack *s, ListMap *L, char *filename)
/* I.S. : Sembarang
   F.S. : Menampilkan pesan load berhasil dan memasukkan data dari file ke array
   Proses : Menampilkan pesan load berhasil dan memasukkan data dari file ke array */
{
  char path[100] = "../data/";
  while (*filename != '\0' && *filename != '\r')
  {
    path[stringLength(path)] = *filename;
    *filename++;
  }

  STARTFILE(path);
  CopyWordFile();
  char *strnum = wordToString(currentWord);
  int num = strToInt(strnum);
  if (num > 0)
  {
    ADVFILE();
    for (int i = 0; i < num; i++)
    {
      ADVWORDFILE();
      char *name = wordToString(currentWord);
      InsertLast(arr, name);
    }

    ADVFILE();
    ADVWORDFILE();
    char *strnum2 = wordToString(currentWord);
    int num2 = strToInt(strnum2);
    if (num2 > 0)
    {
      ADVFILE();
      Stack s1;
      CreateEmptyStack(&s1);
      info val;
      for (int i = 0; i < num2; i++)
      {
        ADVWORDFILE();
        char *name2 = wordToString(currentWord);
        Push(&s1, name2);
      }
      for (int i = 0; i < num2; i++)
      {
        Pop(&s1, &val);
        Push(s, val);
      }
    }

    int el = 1;
    while (!EndWord)
    {
      CreateEmptyMap(L);
      ADVFILE();
      ADVWORDFILE();
      char *strnum3 = wordToString(currentWord);
      int num3 = strToInt(strnum3);
      if (num3 > 0)
      {
        ADVFILE();
        for (int i = 0; i < num3; i++)
        {
          ADVWORDFILEWOBLANK();
          char *name3 = wordToString(currentWord);
          ADVWORDFILE();
          char *strscore = wordToString(currentWord);
          int score = strToInt(strscore);
          InsertMap(L, name3, score, el);
        }
      }
      el++;
    }
    printf("Save file berhasil dibaca. BNMO berhasil dijalankan.\n");
  }
  else
  {
    printf("Save file tidak ditemukan.\n");
  }
}

// LIST GAME
void ListGame(ArrayDin *list_game)
/*
Menampilkan daftar game yang disediakan oleh sistem
Prekondisi: list_game tidak mungkin kosong karena 5 game pada konfigurasi
            pertama tidak dapat dihapus. */
{
  int i;
  // KAMUS
  printf("\nBerikut adalah daftar game yang tersedia : \n");
  for (i = 0; i < Length(*list_game); i++)
  {
    printf("\t%d. %s\n", i + 1, (*list_game).A[i]);
  }
}

// QUEUE GAME
void QueueGame(Queue *Game, ArrayDin list_game)
{
  int a; // integer masukan game ke-

  // menampilkan daftar antrian game yang akan dimainkan
  printf("\nBerikut adalah daftar antrian Game-mu\n");
  if (isEmpty(*Game))
  {
    printf("Antrian Kosong.\n");
  }
  else
  {
    int num = 1;
    for (int i = IDX_HEAD(*Game); i <= ((*Game).idxTail); i++)
    {
      printf("\t%d. %s\n", num, (*Game).buffer[i]);
      num++;
    }
  }

  // menampilkan game yang tersedia apabila user ingin menambahkan game baru ke dalam antrian
  ListGame(&list_game);
  printf("\nMasukkan nomor game yang ingin dimainkan: ");
  STARTWORD();
  int gameNum = 0;
  int j = 0;
  boolean found = false;
  if (currentWord.TabWord[j] <= '9' && currentWord.TabWord[j] > '0')
  {
    gameNum += currentWord.TabWord[j] - '0';
    j++;
  }
  while (j < currentWord.Length && found == false)
  {
    gameNum *= 10;
    if (currentWord.TabWord[j] <= '9' && currentWord.TabWord[j] > '0')
    {
      gameNum += currentWord.TabWord[j] - '0';
    }
    else
    {
      found = true;
    }
    j++;
  }
  if (!found)
  {
    if (gameNum > Length(list_game))
    {
      printf("Game tidak tersedia.\n");
    }
    else
    {
      enqueue(Game, list_game.A[gameNum - 1]);
      printf("Game berhasil dimasukkan ke dalam antrian.\n");
    }
  }
  else
  {
    commandLain();
  }
}

// CREATE GAME
void customGame(ListMap *L, ArrayDin arr, ElType gameName)
{
  srand(time(0));
  int nilai = rand() % 100;
  printf("Skor: %d\n", nilai);
  InsertToScoreboard(L, arr, gameName, nilai);
}

void createGame(ArrayDin *list_game, ListMap *L)
{
  currentWord.Length = 0;
  printf("\nMasukkan nama game yang akan ditambahkan: ");
  STARTWORD();
  int j = 0;
  boolean found = false;
  char *cc;
  char *cc2;
  cc2 = wordToString(currentWord);
  if (!(IsEmpty(*list_game)))
  {
    while (j < Length(*list_game) && !found)
    {
      cc = (*list_game).A[j];
      if ((strcompare(cc2, cc)))
      {
        found = true;
      }
      j++;
    }
  }
  if (found)
  {
    printf("Game sudah tersedia.\n");
  }
  else
  {
    if (currentWord.Length == 0)
    {
      commandLain();
    }
    else
    {
      InsertLast(list_game, cc2);
      CreateEmptyMap(L);
      printf("Game berhasil ditambahkan.\n");
    }
  }
}

// DELETE GAME
void deleteGame(ArrayDin *arr, Stack *s, ListMap *l, Queue q)
/* I.S. : Sembarang
   F.S. : Menghapus game dari array
   Proses : Menghapus game dari array */
{
  currentWord.Length = 0;
  int num;
  ElType val;
  ListGame(arr);
  printf("\nMasukkan nomor game yang akan dihapus: ");
  STARTWORD();
  if (currentWord.Length == 0)
  {
    commandLain();
  }
  else
  {
    num = wordToInt(currentWord);
    val = arr->A[num - 1];
    if ((num - 1 > 5) && (num - 1 < Length(*arr)) && (!(isMemberQ(q, val))))
    {
      deleteHistory(s, *arr, num - 1);
      DeleteMap(l, num);
      DeleteAt(arr, num - 1);
      printf("\nGame berhasil dihapus.\n");
    }
    else
    {
      printf("\nGame gagal dihapus.\n");
    }
  }
}

// SKIP GAME
void SkipGame(Queue *Game, Stack s, ListMap l, ArrayDin arr, int command3)
/*
I.S: Queue game yang sudah memiliki urutan sesuai.
F.S: Queue yang sudah diganti urutannya dan siap untuk dilakukan playgame. */
{
  ElType var;
  int len = length(*Game);
  if (command3 > 0 && command3 < len)
  {
    printf("Game berhasil di-SKIP\n");
    for (int i = 0; i < command3; i++)
    {
      dequeue(Game, &var);
    }
    playGame(Game, &s, &l, arr);
  }
  else if (command3 >= len)
  {
    if (!isEmpty(*Game))
    {
      printf("Game berhasil di-SKIP\n");
      for (int i = 0; i < len; i++)
      {
        dequeue(Game, &var);
      }
      printf("\nTidak ada permainan lagi dalam daftar game-mu.\n");
    }
    else
    {
      printf("Anda tidak memiliki antrian game.\n");
    }
  }
  else
  {
    printf("Masukkan angka yang valid!\n");
  }
}

// PLAY GAME
void playGame(Queue *q, Stack *s, ListMap *l, ArrayDin arr)
{
  ElType val;
  printf("\nBerikut adalah daftar antrian Game-mu:\n");
  if (isEmpty(*q))
  {
    displayQueue(*q);
  }
  else
  {
    displayQueue(*q);
    dequeue(q, &val);
    Push(s, val);
    if (strcompare(val, "RNG") || strcompare(val, "Diner DASH") || strcompare(val, "HANGMAN") || strcompare(val, "TOWER OF HANOI") || strcompare(val, "SNAKE ON METEOR") || strcompare(val, "Minesweeper") || strcompare(val, "Alstrokedungeon"))
    {
      printf("Loading %s ...\n", val);
      printf("\nPress ENTER key to play %s...", val);
      getchar();
      clear();
      if (strcompare(val, "RNG"))
      {
        InsertToScoreboard(l, arr, val, rng());
        // mulai game RNG
      }
      else if (strcompare(val, "Diner DASH"))
      {
        InsertToScoreboard(l, arr, val, dinerdash());
        // mulai game diner dash
      }
      else if (strcompare(val, "HANGMAN"))
      {
        int score = hangman();
        if (score != -1)
        {
          printf("\nSkor: %d\n", score);
          InsertToScoreboard(l, arr, val, score);
        }
        // mulai game HANGMAN
      }
      else if (strcompare(val, "TOWER OF HANOI"))
      {
        InsertToScoreboard(l, arr, val, toh());
        // mulai game TOWER OF HANOI
      }
      else if (strcompare(val, "SNAKE ON METEOR"))
      {
        InsertToScoreboard(l, arr, val, snekOnMeteor());
        // mulai game SNAKE ON METEOR
      }
      else if (strcompare(val, "Minesweeper"))
      {
        InsertToScoreboard(l, arr, val, playmine());
        // mulai game minesweeper
      }
      else if (strcompare(val, "Alstrokedungeon"))
      {
        // mulai game alstrokedungeon
      }
    }
    else
    {
      printf("Loading %s ...\n", val);
      printf("\nPress ENTER key to play %s...", val);
      getchar();
      clear();
      customGame(l, arr, val);
    }
  }
}

// SCOREBOARD
void InsertToScoreboard(ListMap *L, ArrayDin arr, ElType gameName, valuetype score)
{
  currentWord.Length = 0;
  int num = GetNum(arr, gameName);
  printf("Nama: ");
  char *name = readQ();
  while (IsMemberMap(*L, name, num))
  {
    printf("\nNama sudah ada di scoreboard, silahkan ketik ulang!\n");
    printf("\nNama: ");
    name = readQ();
  }
  if (stringLength(name) > 13 || currentWord.Length == 0)
  {
    printf("\nNama terlalu panjang atau tidak valid, silahkan ketik ulang!\n");
    InsertToScoreboard(L, arr, gameName, score);
  }
  else if (stringLength(name) <= 13 && stringLength(name) > 0)
  {
    InsertMap(L, name, score, num);
    printf("\nNama anda berhasil dimasukkan ke scoreboard!\n");
  }
}

void scoreboard(ListMap L, ArrayDin arr)
{
  printf("\n");
  for (int i = 0; i < L.total; i++)
  {
    if (IsEmptyMap(L, i + 1))
    {
      printf("**** SCOREBOARD GAME %s ****\n", arr.A[i]);
      printf("| NAMA\t\t|SKOR\t\t|\n");
      printf("------- SCOREBOARD KOSONG -------\n\n\n");
    }
    else
    {
      printf("**** SCOREBOARD GAME %s ****\n", arr.A[i]);
      printf("| NAMA\t\t|SKOR\t\t|\n");
      printf("|-------------------------------|\n");
      for (int j = 0; j < L.list[i].Count; j++)
      {
        printf("| ");
        printf("%s", L.list[i].Elements[j].Key);
        if (stringLength(L.list[i].Elements[j].Key) <= 13)
        {
          printf("\t");
          if (stringLength(L.list[i].Elements[j].Key) <= 5)
          {
            printf("\t");
          }
        }
        printf("| %d\t\t|\n", L.list[i].Elements[j].Value);
      }
      printf("\n\n");
    }
  }
}

// RESET SCOREBOARD
void resetscoreboard(ListMap *L, ArrayDin arr)
{
  currentWord.Length = 0;
  printf("\nDAFTAR SCOREBOARD:\n");
  printf("0. ALL\n");
  for (int i = 0; i < Length(arr); i++)
  {
    printf("%d. %s\n", i + 1, arr.A[i]);
  }

  printf("\nSCOREBOARD YANG INGIN DIHAPUS: ");
  char *strnum = readQ();
  if (currentWord.Length == 0)
  {
    commandLain();
  }
  else
  {
    int num = strToInt(strnum);
    if (num == 0)
    {
      printf("\nAPAKAH KAMU YAKIN INGIN MELAKUKAN RESET SCOREBOARD ALL (YA/TIDAK)? ");
    }
    else
    {
      printf("\nAPAKAH KAMU YAKIN INGIN MELAKUKAN RESET SCOREBOARD %s (YA/TIDAK)? ", arr.A[num - 1]);
    }

    char *kalimat = readQ();

    if (strcompare(kalimat, "YA") || strcompare(kalimat, "ya"))
    {
      if (num == 0)
      {
        int len = L->total;
        for (int i = 0; i < len; i++)
        {
          L->list[i].Count = Nilz;
        }
        printf("\nScoreboard berhasil di-reset.\n");
      }
      else if (num > 0)
      {
        L->list[num - 1].Count = Nilz;
        printf("\nScoreboard berhasil di-reset.\n");
      }
      else
      {
        printf("\nINPUT TIDAK VALID!\n");
      }
    }
    else if (strcompare(kalimat, "TIDAK") || strcompare(kalimat, "tidak"))
    {
      printf("\nRESET SCOREBOARD DIBATALKAN!\n");
    }
    else
    {
      commandLain();
    }
  }
}

// HISTORY
void history(Stack *s, int command)
{
  if (IsEmptyStack(*s) || command < 1)
  {
    printf("\nTidak ada daftar game yang telah dimainkan.\n");
  }
  else
  {
    printf("\nBerikut adalah daftar game yang telah dimainkan:\n");
    printStack(s, command);
  }
}

void deleteHistory(Stack *s, ArrayDin arr, IdxType idx)
{
  Stack s1;
  CreateEmptyStack(&s1);
  info temp;
  ElType val = Get(arr, idx);
  for (int i = 0; i < countStack(*s); i++)
  {
    Pop(s, &temp);
    if (s->T[i] != val)
    {
      Push(&s1, temp);
    }
  }
  for (int i = 0; i < countStack(s1); i++)
  {
    Pop(&s1, &temp);
    Push(s, temp);
  }
}

// RESET HISTORY
void resetHistory(Stack *s)
{
  if (!IsEmptyStack(*s))
  {
    printf("\nAPAKAH KAMU YAKIN INGIN MELAKUKAN RESET HISTORY (YA/TIDAK)? ");
    char *command;
    command = readQ();
    if (strcompare(command, "YA") || strcompare(command, "ya"))
    {
      while (!IsEmptyStack(*s))
      {
        info val;
        Pop(s, &val);
      }
      printf("\nHistory berhasil di-reset.\n");
    }
    else if (strcompare(command, "TIDAK") || strcompare(command, "tidak"))
    {
      printf("\nHistory tidak jadi di-reset. Berikut adalah daftar Game yang telah dimainkan:\n");
      int num = countStack(*s);
      printStack(s, num);
    }
    else
    {
      commandLain();
      resetHistory(s);
    }
  }
  else
  {
    printf("\nTidak ada daftar game yang telah dimainkan.\n");
  }
}

// SAVE
void save(char *filename, ArrayDin listGame, Stack s, ListMap L)
{
  FILE *file;
  char path[100] = "../data/";
  while (*filename != '\0' && *filename != '\r')
  {
    path[stringLength(path)] = *filename;
    *filename++;
  }
  file = fopen(path, "w");

  // baca listgame
  fprintf(file, "%d\n", Length(listGame));
  for (int i = 0; i < Length(listGame); i++)
  {
    fprintf(file, "%s\n", listGame.A[i]);
  }

  // baca history
  fprintf(file, "%d\n", countStack(s));
  for (int i = countStack(s) - 1; i >= 0; i--)
  {
    fprintf(file, "%s\n", s.T[i]);
  }

  // baca scoreboard
  for (int i = 0; i < L.total - 1; i++)
  {
    fprintf(file, "%d\n", L.list[i].Count);
    if (L.list[i].Count > 0)
    {
      for (int j = 0; j < L.list[i].Count; j++)
      {
        fprintf(file, "%s %d\n", L.list[i].Elements[j].Key, L.list[i].Elements[j].Value);
      }
    }
  }
  if (L.list[L.total - 1].Count > 0)
  {
    fprintf(file, "%d\n", L.list[L.total - 1].Count);
    for (int j = 0; j < L.list[L.total - 1].Count - 1; j++)
    {
      fprintf(file, "%s %d\n", L.list[L.total - 1].Elements[j].Key, L.list[L.total - 1].Elements[j].Value);
    }
    fprintf(file, "%s %d", L.list[L.total - 1].Elements[L.list[L.total - 1].Count - 1].Key, L.list[L.total - 1].Elements[L.list[L.total - 1].Count - 1].Value);
  }
  else
  {
    fprintf(file, "%d", L.list[L.total - 1].Count);
  }

  fclose(file);
  printf("Save file berhasil disimpan.\n");
}

// HELP
void help()
/* Menampilkan bantuan/deskripsi dari command yang ada. */
{
  printf("\n============ HELP ============\n");
  printf("1. CREATE GAME - Menambahkan game baru pada daftar game\n");
  printf("\n2. LIST GAME - Menampilkan daftar game yang tersedia pada sistem\n");
  printf("\n3. DELETE GAME - Menghapus game yang dibuat secara custom oleh pengguna\n");
  printf("\n4. QUEUE GAME - Mendaftarkan permainan ke dalam list game\n");
  printf("\n5. PLAY GAME - Memainkan sebuah permainan yang tersedia pada sistem\n");
  printf("\n6. SKIP GAME <n> - Melewatkan permainan sebanyak n\n");
  printf("\n7. SCOREBOARD - Menampilkan scoreboard dari semua permainan\n");
  printf("\n8. RESET SCOREBOARD - Menghapus data permainan yang tersimpan\n");
  printf("\n9. HISTORY <n> - Menampilkan daftar permainan yang telah dimainkan dengan sejumlah n\n");
  printf("\n10. RESET HISTORY - Menghapus semua permainan yang telah dimainkan\n");
  printf("\n11. SAVE <filename> - Menyimpan permainan ke dalam sebuah file\n");
  printf("\n12. HELP - Memberikan petunjuk fungsi masing-masing fitur\n");
  printf("\n13. QUIT - Keluar dari program\n");
}

// QUIT
void Quit(ArrayDin list, Stack s, ListMap l)
{
  printf("Apakah anda ingin melakukan SAVE? (Y/N) ");
  STARTWORD();
  char *filename;
  if (currentWord.TabWord[0] == 'Y' || currentWord.TabWord[0] == 'y')
  {
    printf("Masukkan nama file: ");
    STARTWORD();
    filename = wordToString(currentWord);
    save(filename, list, s, l);
    printf("Anda keluar dari game BNMO.\n");
    printf("Bye bye...\n");
  }
  else if (currentWord.TabWord[0] == 'N' || currentWord.TabWord[0] == 'n')
  {
    printf("Anda keluar dari game BNMO.\n");
    printf("Bye bye...\n");
  }
  else
  {
    commandLain();
    Quit(list, s, l);
  }
}

// COMMAND LAIN
void commandLain()
/* Jika command tidak dikenali, maka program meminta input command baru */
{
  printf("\nCommand tidak dikenali, silakan masukan command yang valid.\n");
}

// FUNCTION
char *readQ()
/* I.S. : Sembarang
   F.S. : Mengembalikan string yang sudah diinputkan
   Proses : Membaca string yang sudah diinputkan */
{
  STARTWORD();
  return wordToString(currentWord);
}

boolean strcompare(char *str1, char *str2)
{
  int i = 0;
  boolean found = false;
  if (stringLength(str1) != stringLength(str2))
  {
    return found;
  }
  else
  {
    while (!found && i < stringLength(str1))
    {
      if (str1[i] != str2[i])
      {
        return found;
      }
      i++;
    }
    return !found;
  }
}

int stringLength(char *str)
{
  int i = 0;
  while (str[i] != '\r' && str[i] != '\0')
  {
    i++;
  }
  return i;
}

char *wordToString(Word word)
/* I.S. : Sembarang
   F.S. : Mengembalika string dari word
   Proses : Mengembalikan string dari word */
{
  char *str = (char *)malloc(sizeof(char) * (word.Length + 1));
  int i;
  for (i = 0; i < word.Length; i++)
  {
    str[i] = word.TabWord[i];
  }
  str[word.Length] = '\0';
  return str;
}

int wordToInt(Word word)
/* I.S. : Sembarang
   F.S. : Mengembalikan integer dari word
   Proses : Mengembalikan integer dari word */
{
  int i = 0;
  int ans = 0;
  while (i < word.Length)
  {
    ans = ans * 10 + (word.TabWord[i] - '0');
    i++;
  }
  return ans;
}

char *firststring(char *command)
{
  int i = 0;
  char *firststr;
  firststr = (char *)malloc(50 * sizeof(char));
  while (command[i] != BLANK && command[i] != '\0' && command[i] != '\r')
  {
    *(firststr + i) = command[i];
    i++;
  }
  firststr[i] = '\0';
  return firststr;
}

char *secondstring(char *command)
{
  int i = 0;
  int j = 0;
  char *secstr;
  secstr = (char *)malloc(50 * sizeof(char));
  while (command[i] != BLANK && command[i] != '\0' && command[i] != '\r')
  {
    i++;
  }
  while (command[i] == BLANK)
  {
    i++;
  }

  while (command[i] != BLANK && command[i] != '\0' && command[i] != '\r')
  {
    secstr[j] = command[i];
    i++;
    j++;
  }
  secstr[j] = '\0';
  return secstr;
}

char *thirdstring(char *command)
{
  int i = 0;
  int j = 0;
  char *thirdstr;
  thirdstr = (char *)malloc(50 * sizeof(char));
  while (command[i] != BLANK && command[i] != '\0' && command[i] != '\r')
  {
    i++;
  }
  while (command[i] == BLANK)
  {
    i++;
  }
  while (command[i] != BLANK && command[i] != '\0' && command[i] != '\r')
  {
    i++;
  }
  while (command[i] == BLANK)
  {
    i++;
  }
  while (command[i] != '\0' && command[i] != '\r')
  {
    thirdstr[j] = command[i];
    i++;
    j++;
  }
  thirdstr[j] = '\0';
  return thirdstr;
}

int space_char(char *str)
{
  int count = 0;
  while (*str != '\0' && *str != '\r')
  {
    if (*str == ' ')
    {
      count++;
    }
    str++;
  }
  return count;
}

char *strconcat(char *dest, char *src)
{
  char *ret;
  ret = (char *)malloc((stringLength(dest) + stringLength(src) + 1) * sizeof(char));
  int i = 0;
  while (dest[i] != '\0' && dest[i] != '\r')
  {
    ret[i] = dest[i];
    i++;
  }
  int j = 0;
  ret[i] = ' ';
  i++;
  while (src[j] != '\0' && src[j] != '\r')
  {
    ret[i] = src[j];
    i++;
    j++;
  }
  ret[i] = '\0';
  return ret;
}

boolean isMemberQ(Queue q, char *val)
{
  int i = 0;
  boolean found = false;
  while (i <= q.idxTail && !found)
  {
    if (strcompare(val, q.buffer[i]))
    {
      found = true;
    }
    i++;
  }
  return found;
}

int strToInt(char *str)
{
  int i = 0;
  int ans = 0;
  while (i < stringLength(str))
  {
    ans = ans * 10 + (str[i] - '0');
    i++;
  }
  return ans;
}

boolean isNum(char *str)
{
  int i = 0;
  boolean found = true;
  while (i < stringLength(str) && found)
  {
    if (str[i] < '0' || str[i] > '9')
    {
      found = false;
    }
    i++;
  }
  return found;
}